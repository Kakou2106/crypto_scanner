<<<<<<< HEAD
name: "ðŸš€ Quantum Scanner 24/7"
=======
name: ðŸš€ Quantum Scanner 24/7
>>>>>>> d3dfb7a386f2b31333df1820f02ba22d0b16a0e5

on:
  schedule:
    - cron: '0 */6 * * *'  # Toutes les 6 heures
  workflow_dispatch:        # Lancement manuel
<<<<<<< HEAD
  push:
    branches: [ main ]     # Se dÃ©clenche sur les pushes
=======
>>>>>>> d3dfb7a386f2b31333df1820f02ba22d0b16a0e5

jobs:
  scan-crypto:
    runs-on: ubuntu-latest
    timeout-minutes: 30
    
    steps:
<<<<<<< HEAD
    - name: "ðŸ“¥ Checkout code"
      uses: actions/checkout@v4
      
    - name: "ðŸ Setup Python"
=======
    - name: ðŸ“¥ Checkout code
      uses: actions/checkout@v4
      
    - name: ðŸ Setup Python
>>>>>>> d3dfb7a386f2b31333df1820f02ba22d0b16a0e5
      uses: actions/setup-python@v4
      with:
        python-version: '3.10'
        
<<<<<<< HEAD
    - name: "ðŸ“¦ Install dependencies"
      run: |
        python -m pip install --upgrade pip
        pip install -r requirements.txt
        pip list | grep aiosqlite  # VÃ©rification
        echo "âœ… DÃ©pendances installÃ©es"
      
    - name: "ðŸ” Load API secrets"
      run: |
        echo "Configuration des secrets..."
=======
    - name: ðŸ“¦ Install dependencies
      run: pip install aiohttp requests python-dotenv pandas numpy websockets beautifulsoup4 schedule
      
    - name: ðŸ” Load API secrets
      run: |
>>>>>>> d3dfb7a386f2b31333df1820f02ba22d0b16a0e5
        echo "TELEGRAM_BOT_TOKEN=${{ secrets.TELEGRAM_BOT_TOKEN }}" > .env
        echo "TELEGRAM_CHAT_ID=${{ secrets.TELEGRAM_CHAT_ID }}" >> .env
        echo "COINLIST_API_KEY=${{ secrets.COINLIST_API_KEY }}" >> .env
        echo "KUCOIN_API_KEY=${{ secrets.KUCOIN_API_KEY }}" >> .env
        echo "KUCOIN_SECRET=${{ secrets.KUCOIN_SECRET }}" >> .env
        echo "KUCOIN_PASSPHRASE=${{ secrets.KUCOIN_PASSPHRASE }}" >> .env
<<<<<<< HEAD
        echo "âœ… Secrets configurÃ©s"
        
    - name: "ðŸ—ƒï¸ Setup database"
=======
        
    - name: ðŸ—ƒï¸ Setup database
>>>>>>> d3dfb7a386f2b31333df1820f02ba22d0b16a0e5
      run: |
        mkdir -p data
        python -c "
        import sqlite3
        conn = sqlite3.connect('data/quantum_scanner.db')
        conn.close()
        print('âœ… Database ready')
        "
        
<<<<<<< HEAD
    - name: "ðŸ” Run Quantum Scanner"
      run: python quantum_scanner.py --once
      
    - name: "ðŸ’¾ Save results"
      uses: actions/upload-artifact@v4
      with:
        name: scan-results
        path: data/
        retention-days: 30
        
    - name: "ðŸ“Š Generate report"
      run: |
        echo 'ðŸŒŒ QUANTUM SCAN COMPLETED'
        echo "â° $(date)"
        echo 'ðŸ“ Database saved as artifact'
        echo 'âœ… Workflow terminÃ© avec succÃ¨s'
=======
    - name: ðŸ” Run Quantum Scanner
      run: python quantum_scanner.py --once
      
    - name: ðŸ’¾ Save results
      uses: actions/upload-artifact@v4
      with:
        name: scan-results
        path: data/quantum_scanner.db
        retention-days: 30
        
    - name: ðŸ“Š Generate report
      run: |
        echo 'ðŸŒŒ QUANTUM SCAN COMPLETED'
        echo 'â° $(date)'
        echo 'ðŸ“ Database saved as artifact'
>>>>>>> d3dfb7a386f2b31333df1820f02ba22d0b16a0e5
